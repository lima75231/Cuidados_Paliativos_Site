<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Diagnóstico (ESAS)</title>
  <link rel="stylesheet" href="../assets/css/style.css" />

  <!-- CSS leve e integrado ao padrão do site -->
  <style>
    main {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
    }

    .form-card, .resultado-card {
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 20px;
      margin-top: 20px;
      background: #fff;
    }

    label {
      font-weight: 600;
      margin-top: 10px;
      display: block;
    }

    input[type="text"],
    input[type="date"],
    input[type="number"],
    textarea {
      width: 100%;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }

    /* GRID 2 COLUNAS */
    .grid-2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-top: 15px;
    }

    /* Responsividade */
    @media (max-width: 700px) {
      .grid-2 {
        grid-template-columns: 1fr;
      }
    }

    .botoes {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .botoes button {
      padding: 10px 16px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      font-weight: 600;
    }

    .btn-primary { background: #2c3e50; color: #fff; }
    .btn-secondary { background: #6c757d; color: #fff; }
    .btn-tertiary { background: #e0e0e0; color: #333; }

    .muted { color: #666; font-size: .9rem; }
  </style>
</head>
<body>

<header>
  <h1>Cuidados Paliativos em Foco</h1>
  <p>Cuidando com dignidade, acolhendo com respeito.</p>
</header>

<nav>
  <a href="../index.html">Início</a>
  <a href="sobre.html">Sobre</a>
  <a href="cuidados.html">Cuidados</a>
  <a href="equipe.html">Equipe</a>
  <a href="diario.html">Diário</a>
  <a href="recursos.html">Recursos</a>
  <a href="contato.html">Contato</a>
  <a href="participe.html">Participe</a>
  <a href="curso.html">Curso</a>
  <a href="diagnostico.html" class="active">Diagnóstico</a>
</nav>

<main>
  <h2>Ferramenta de Diagnóstico – ESAS (0–10)</h2>
  <p>O profissional digita a pontuação de 0 a 10 para cada sintoma.</p>

  <form id="formEsas" class="form-card">

    <label for="paciente">Paciente</label>
    <input id="paciente" type="text" placeholder="Nome completo" required>

    <label for="dataAvaliacao">Data da avaliação</label>
    <input id="dataAvaliacao" type="date" required>

    <fieldset style="margin-top:20px;">
      <legend><strong>ESAS – Sintomas</strong></legend>

      <!-- GRID LADO A LADO -->
      <div class="grid-2">
        
        <div>
          <label for="dor">Dor (0–10)</label>
          <input id="dor" type="number" min="0" max="10" value="0">

          <label for="cansaco">Cansaço/Fadiga (0–10)</label>
          <input id="cansaco" type="number" min="0" max="10" value="0">

          <label for="nausea">Náusea (0–10)</label>
          <input id="nausea" type="number" min="0" max="10" value="0">

          <label for="depressao">Depressão/Tristeza (0–10)</label>
          <input id="depressao" type="number" min="0" max="10" value="0">

          <label for="ansiedade">Ansiedade (0–10)</label>
          <input id="ansiedade" type="number" min="0" max="10" value="0">
        </div>

        <div>
          <label for="sonolencia">Sonolência (0–10)</label>
          <input id="sonolencia" type="number" min="0" max="10" value="0">

          <label for="apetite">Falta de apetite (0–10)</label>
          <input id="apetite" type="number" min="0" max="10" value="0">

          <label for="bemestar">Bem-estar (pior bem-estar) (0–10)</label>
          <input id="bemestar" type="number" min="0" max="10" value="0">

          <label for="faltaAr">Falta de ar/Dispneia (0–10)</label>
          <input id="faltaAr" type="number" min="0" max="10" value="0">
        </div>

      </div>
    </fieldset>

    <label for="observacoes" style="margin-top:15px;">Observações (opcional)</label>
    <textarea id="observacoes" rows="3" placeholder="Anotações clínicas..."></textarea>

    <div class="botoes">
      <button type="button" id="btnCalcular" class="btn-primary">Calcular escore</button>
      <button type="button" id="btnSalvar" class="btn-primary">Salvar na planilha</button>
      <button type="button" id="btnImprimir" class="btn-secondary">Imprimir / PDF</button>
      <button type="reset" class="btn-tertiary">Limpar</button>
    </div>

  </form>

  <section id="resultado" class="resultado-card" style="display:none;">
    <h3>Resultado</h3>
    <p id="resumo"></p>
    <ul id="detalhes"></ul>
    <p class="muted">*Use sempre com julgamento clínico e protocolos da APS.</p>
  </section>

</main>

<footer>
  <p>&copy; 2025 Cuidados Paliativos em Foco.</p>
</footer>

<script>
  const APPS_SCRIPT_URL = "COLE_AQUI_O_SEU_URL";

  function coletar() {
    const v = id => Number(document.getElementById(id).value) || 0;
    return {
      paciente: document.getElementById('paciente').value,
      dataAvaliacao: document.getElementById('dataAvaliacao').value,
      dor: v('dor'),
      cansaco: v('cansaco'),
      nausea: v('nausea'),
      depressao: v('depressao'),
      ansiedade: v('ansiedade'),
      sonolencia: v('sonolencia'),
      apetite: v('apetite'),
      bemestar: v('bemestar'),
      faltaAr: v('faltaAr'),
      observacoes: document.getElementById('observacoes').value
    };
  }

  function classificar(m) {
    if (m < 3) return {r: "Baixo", cor: "green"};
    if (m < 7) return {r: "Moderado", cor: "orange"};
    return {r: "Alto", cor: "red"};
  }

  document.getElementById('btnCalcular').onclick = () => {
    const p = coletar();
    const soma = p.dor + p.cansaco + p.nausea + p.depressao + p.ansiedade + p.sonolencia + p.apetite + p.bemestar + p.faltaAr;
    const media = (soma / 9).toFixed(2);
    const cat = classificar(media);

    document.getElementById('resumo').innerHTML = `
      <strong>Paciente:</strong> ${p.paciente} <br>
      <strong>Data:</strong> ${p.dataAvaliacao}<br>
      <strong>Soma:</strong> ${soma} — 
      <span style="color:${cat.cor}">${cat.r}</span>
    `;

    document.getElementById('detalhes').innerHTML = `
      <li>Dor: ${p.dor}</li>
      <li>Cansaço: ${p.cansaco}</li>
      <li>Náusea: ${p.nausea}</li>
      <li>Depressão: ${p.depressao}</li>
      <li>Ansiedade: ${p.ansiedade}</li>
      <li>Sonolência: ${p.sonolencia}</li>
      <li>Falta de apetite: ${p.apetite}</li>
      <li>Bem-estar: ${p.bemestar}</li>
      <li>Falta de ar: ${p.faltaAr}</li>
    `;

    document.getElementById('resultado').style.display = 'block';
  };

  document.getElementById('btnImprimir').onclick = () => window.print();
</script>

</body>
</html>
